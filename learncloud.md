# springcloud学习

## spring cloud config

4个原则：

1. 分离
2. 抽象
3. 集中
4. 稳定

注意：想要使用config加载本地配置文件，需要将*spring.profiles.active*设置为native。

spring cloud配置服务器始终提供最新版本的属性，通过其底层存储库，对属性进行的更改将是最新的。但spring boot(spring cloud client)应用
只会在启动时读取它们的属性。因此spring cloud配置服务器中进行的属性更改不会被spring boot应用自动获取到。spring boot actuator提供了
一个@RefreshScop注解，允许开发团队访问/refresh端点，这回强制spring boot应用重新读取应用程序配置。

## 服务发现 spring cloud eureka

## Hystrix客户端弹性模式

客户端弹性软件模式的重点是，在远程服务发生错误或表现不佳时保护远程资源的客户但免于崩溃。这些模式的目标是让客户端快速失败，而不消耗诸如
数据库连接和线程池之类的宝贵资源，并且可以防止远程服务的问题向客户端的消费者进行上游传播。主要包括4种模式：

1. 客户端负载均衡模式，让客户端从服务发现代理查找所有实例，然后缓存服务实例的物理位置，调用服务时，客户端负载均衡从它维护的服务位置池
返回一个位置，Netflix的Ribbon库提供了开箱即用的功能。
2. 断路器模式，模仿电力断路器，当远程服务被调用时，如果调用时间太长，断路器将会介入并中断调用，如果调用失败次数足够多，那么断路器会实现
快速失败
3. 后备模式，当远程服务调用失败时，服务消费者将执行替代代码路径，并尝试通过其它方式执行操作，而不是生成一个异常。
4. 舱壁模式，可以把远程资源的调用分到线程池种，并降低一个缓慢的远程调用拖垮整个应用程序的风险。 